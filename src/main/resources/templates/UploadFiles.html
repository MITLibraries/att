<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Add Digital Content Files</title>

    <div th:replace="fragments/header :: header-css"/>

    <script th:inline="javascript">
        /*<![CDATA[*/
        var context = [[@{/}]];
        var totalmax=[[${totalmax}]];
        var peruploadmax=[[${peruploadmax}]];
        /*]]>*/
    </script>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript" th:src="@{/js/UploadFiles.js}"></script>
</head>

<body>

<div th:replace="mit/header :: header"/>

<div class="wrap-outer-content layout-band">
    <div class="wrap-content">
        <main id="content-main" class="content-main" role="main">
            <div class="layout-3q1q layout-band">

                <div class="col3q">

                    <h3 class="title-page">Add Digital Content Files</h3>

                    <p>
                        <a th:href="@{/SubmitRecords}">Return to Records Submission Form</a>
                    </p>

                    <form method="post" th:action="@{/UploadComplete}" enctype="multipart/form-data" id="form">
                        <p class="tip" id="maxuploadsize">The total size of all files to be uploaded must be less than <span th:text="${avail_bytes}"></span>.</p>

                        <input type="hidden" name="filedata" id="filedata"/>
                        <input name="file_counter" type="hidden" value="1" id="file_counter"/>
                        <input name="havail_bytes" type="hidden" value="empty" id="havail_bytes"/>

                        <fieldset>
                            <legend>Select files to submit to the Archives</legend>

                            <div id="fileobj">

                                <div class="field-wrap">

                                    <label for="file" class="field-label">Select a file to upload</label>
                                    <input class="field-upload" type="file" name="file" id="file" multiple="multiple" onchange="gatherdisplayfiledata('1')"/>

                                    <input class="btn button-secondary" type="button" value="Remove this file" style="display:none" id="minus" onclick="removeit( this )"/>

                                    <input class="btn button-secondary" type="button" value="Add another file" onclick="addit( this  )"/>
                                </div>

                                <hr />

                                <input class="btn button-secondary warn" type="button" value="Clear all files" onclick="clearfiles()"/>

                            </div>

                        </fieldset>

                        <div id="displayfiledata"></div>

                        <p>
                            When you have added <strong>all of the files</strong> you wish to attach to this record submission form, please click the button below to complete your submission.
                        </p>

                        <button type="submit" class="btn button-primary" onclick="gatherfiledata_validate_and_submit()">Upload and submit</button>

                    </form>

                </div>
                <aside class="content-sup col1q-r" role="complementary">
                    <div class="bit">
                        <h3 class="title">Questions? Contact us.</h3>
                        <p><a href="mailto:recordstransfer@mit.edu">recordstransfer@mit.edu</a><br />
                        (617) 253-5136</p>
                    </div>
                </aside>
            </div>

        </main>
    </div>

</div> <!-- end wrap outercontent -->




<div th:replace="mit/site_footer :: footer"/>
</body>
</html>
