<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Add Digital Content Files</title>

    <div th:replace="fragments/header :: header-css"/>

    <script th:inline="javascript">
        /*<![CDATA[*/
        var context = [[@{/}]];
        var totalmax=[[${totalmax}]];
        var peruploadmax=[[${peruploadmax}]];
        /*]]>*/
    </script>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript" th:src="@{/js/UploadFiles.js}"></script>
</head>

<body>

<div th:replace="mit/header :: header"/>

<div class="wrap-outer-content layout-band">
    <div class="wrap-content">
        <main id="content-main" class="content-main" role="main">
            <div class="layout-3q1q layout-band">

                <div class="col3q">

                    <h3 class="title-page">Add Digital Content File</h3>

                    <form method="post" th:action="@{/UploadComplete}" enctype="multipart/form-data" id="form">
                        <p> Please select the file you would like to upload. If you have multiple files or folders, you will first need to combine them into a single .zip folder. Please see step 9 on the Submission Instructions tab for information related to the creation of the .zip folder.
                        </p>
                        <p class="tip" id="maxuploadsize">The total size of file to be uploaded must be less than <span th:text="${avail_bytes}"></span>.</p>

                        <input type="hidden" name="filedata" id="filedata"/>
                        <input name="file_counter" type="hidden" value="1" id="file_counter"/>
                        <input name="havail_bytes" type="hidden" value="empty" id="havail_bytes"/>

                        <fieldset>
                            <legend>Select file to submit to the DDC</legend>

                            <div id="fileobj" class="wrap-file-upload">

                                <div class="field-wrap">

                                    <label for="file" class="field-label">Select a file to upload</label>
<!--
                                    <input class="field-upload" type="file" name="file" id="file" multiple="multiple" onchange="gatherdisplayfiledata('1')"/>
-->

                                    <input class="field-upload" type="file" name="file" id="file"/>


                                </div>

                                <input class="btn button-secondary button-small" type="button" value="Remove this file" style="display:none" id="minus" onclick="removeit( this )"/>

                            </div>


<!--
                            <input class="btn button-secondary button-add" type="button" value="Add another file" onclick="addit( this  )"/>
-->

                            <input class="btn button-secondary warn" type="button" value="Remove file" onclick="clearfiles()"/>

                        </fieldset>

                        <div id="displayfiledata"></div>

                        <p>
                            When you have added the file you wish to attach to this record submission form, please click the button below to complete your submission.
                        </p>

<!--
                        <input type="submit" class="btn button-primary" onclick="gatherfiledata_validate_and_submit()">Upload and submit</input>
-->

                        <input type="submit" class="btn button-primary">Upload and submit</input>


                    </form>

                    <hr />

                    <p>Uploads for large files can take significant time. Please leave this page open while the file uploads.</p>

                </div>
                <aside class="content-sup col1q-r" role="complementary">
                    <div id="contact-iasc" class="bit">
                        <h3 class="title">Questions? Contact us.</h3>
                        <p>For the records: <br /> <a href="mailto:ddc-offers@mit.edu">ddc-offers@mit.edu</a></p>
                        <p>Institute office contact: <a href="mailto:ddc-offers@mit.edu">rmprogram@mit.edu</a><br />
                            617.253.5136</p>
                    </div>
                </aside>
            </div>

        </main>
    </div>

</div> <!-- end wrap outercontent -->




<div th:replace="mit/site_footer :: footer"/>
</body>
</html>
